<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‰∫≤Áà±ÁöÑÈóµËÄÅÂ∏àÔºåÁîüÊó•Âø´‰πêÔºÅ</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #000;
            height: 100vh;
            font-family: 'Arial', sans-serif;
            cursor: pointer;
            position: relative;
            touch-action: manipulation;
        }

        #birthday-container {
            position: relative;
            z-index: 100;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .photo-gallery {
            position: relative;
            height: 60vh;
            width: 100%;
            overflow: hidden;
        }

        .birthday-photo {
            position: absolute;
            object-fit: contain;
            opacity: 0;
            transition: all 1s ease;
            display: none;
            transform-origin: center;
            max-width: 100%;
            max-height: 100%;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            border: none !important;
            box-shadow: none !important;
        }

        .birthday-photo.show {
            opacity: 1;
            display: block;
            animation: pulse 3s infinite alternate;
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1.2); }
            100% { transform: translate(-50%, -50%) scale(1.3); }
        }

        .text-container {
            position: relative;
            height: 30vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 10px;
            box-sizing: border-box;
        }

        #birthday-text {
            color: #fff;
            font-size: 1.5em;
            text-shadow: 0 0 10px rgba(170, 0, 255, 0.32), 0 0 20px #fffb00, 0 0 30px #6600ff;
            opacity: 0;
            transition: all 1s ease 0.5s;
            margin-bottom: 10px;
            text-align: center;
            width: 80%;
            transform: rotate(-2deg);
        }

        #birthday-text.show {
            opacity: 1;
        }

        #birthday-message {
            color: #fff;
            font-size: 1em;
            text-shadow: 0 0 10px #ff00ff, 0 0 20px rgba(255, 0, 119, 0.7), 0 0 30px #00e1ff;
            max-width: 90%;
            opacity: 0;
            transition: all 1s ease 1s;
            text-align: center;
            width: 70%;
            transform: rotate(1deg);
            line-height: 1.5;
        }

        #birthday-message.show {
            opacity: 1;
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1;
        }

        #music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #start-button {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 12px 25px;
            font-size: 1.2em;
            background: linear-gradient(45deg, #ff3366, #ff8c00);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 0 15px rgba(255, 105, 180, 0.8);
        }

        .heart {
            position: absolute;
            pointer-events: none;
            transform: translate(-50%, -50%);
            z-index: 10;
            font-size: 16px;
        }

        #fireworks-control {
            position: fixed;
            bottom: 70px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #speed-control {
            position: fixed;
            bottom: 120px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        @media (max-width: 480px) {
            #birthday-text {
                font-size: 1.2em;
            }

            #birthday-message {
                font-size: 0.9em;
            }

            .birthday-photo {
                max-width: 90%;
                max-height: 45%;
            }

            #start-button {
                padding: 10px 20px;
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <button id="start-button">üòôÂêØ</button>

    <div id="birthday-container">
        <div class="photo-gallery">
            <img class="birthday-photo" id="photo1" alt="ÁîüÊó•ÁÖßÁâá1">
            <img class="birthday-photo" id="photo2" alt="ÁîüÊó•ÁÖßÁâá2">
            <img class="birthday-photo" id="photo3" alt="ÁîüÊó•ÁÖßÁâá3">
            <img class="birthday-photo" id="photo4" alt="ÁîüÊó•ÁÖßÁâá4">
            <img class="birthday-photo" id="photo5" alt="ÁîüÊó•ÁÖßÁâá5">
            <img class="birthday-photo" id="photo6" alt="ÁîüÊó•ÁÖßÁâá6">
            <img class="birthday-photo" id="photo7" alt="ÁîüÊó•ÁÖßÁâá7">
            <img class="birthday-photo" id="photo8" alt="ÁîüÊó•ÁÖßÁâá8">
            <img class="birthday-photo" id="photo9" alt="ÁîüÊó•ÁÖßÁâá9">
            <img class="birthday-photo" id="photo10" alt="ÁîüÊó•ÁÖßÁâá10">

        </div>

        <div class="text-container">
            <h1 id="birthday-text">‰∫≤Áà±ÁöÑÈóµËÄÅÂ∏àÔºåÁîüÊó•Âø´‰πêÔºÅ</h1>
            <p id="birthday-message">ÊÑøÊâÄÊúâÁöÑÂø´‰πê„ÄÅÂπ∏Á¶è„ÄÅÊ∏©È¶®„ÄÅÂ•ΩËøêÈÉΩÂõ¥ÁªïÂú®ÊÇ®Ë∫´ËæπÔºÅ</p>
        </div>
    </div>

    <canvas id="fireworks"></canvas>

    <button id="music-control">üîä</button>
    <button id="fireworks-control">üéÜ</button>
    <button id="speed-control">‚è©</button>

    <audio id="birthday-music" onerror="alert('Èü≥‰πêÂä†ËΩΩÂ§±Ë¥•ÔºÅ')">
        <source src="/to-Ms.M/birthday-music.mp3" type="audio/mpeg">
    </audio>

    <script>
        // ÂàùÂßãÂåñÂÖÉÁ¥†
        const startButton = document.getElementById('start-button');
        const birthdayPhotos = [
            document.getElementById('photo1'),
            document.getElementById('photo2'),
            document.getElementById('photo3'),
            document.getElementById('photo4'),
            document.getElementById('photo5'),
            document.getElementById('photo6'),
            document.getElementById('photo7'),
            document.getElementById('photo8'),
            document.getElementById('photo9'),
            document.getElementById('photo10')
        ];
        const birthdayText = document.getElementById('birthday-text');
        const birthdayMessage = document.getElementById('birthday-message');
        const musicControl = document.getElementById('music-control');
        const fireworksControl = document.getElementById('fireworks-control');
        const speedControl = document.getElementById('speed-control');
        const birthdayMusic = document.getElementById('birthday-music');
        const canvas = document.getElementById('fireworks');
        const ctx = canvas.getContext('2d');

        // ËÆæÁΩÆÁîªÂ∏ÉÂ§ßÂ∞è
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();

        // Á™óÂè£Â§ßÂ∞èÊîπÂèòÊó∂Ë∞ÉÊï¥ÁîªÂ∏É
        window.addEventListener('resize', resizeCanvas);

        // ÂΩìÂâçÁÖßÁâáÁ¥¢Âºï
        let currentPhotoIndex = 0;
        let photoInterval;
        let fireworksEnabled = true;
        let isMusicSpedUp = false;

        // Âä†ËΩΩÁÖßÁâáÂπ∂ËÆæÁΩÆÊ†∑Âºè
        function loadAndPositionPhotos() {
            birthdayPhotos.forEach((photo, index) => {
                // Âä†ËΩΩÁÖßÁâá
                photo.src =`/to-Ms.M/birthday-photo${index+1}.jpg`;

                // ÈöèÊú∫Â§ßÂ∞è (150-300px)
                const size = Math.random() * 150 + 150;
                photo.style.width = `${size}px`;
                photo.style.height = `${size}px`;

                // ÈöèÊú∫ÊóãËΩ¨ (-15Âà∞15Â∫¶)
                const rotation = (Math.random() * 30) - 15;
                photo.style.transform = `translate(-50%, -50%) rotate(${rotation}deg)`;
            });
        }

        // ÊòæÁ§∫‰∏ã‰∏ÄÂº†ÁÖßÁâá
        function showNextPhoto() {
            // ÈöêËóèÂΩìÂâçÁÖßÁâá
            birthdayPhotos[currentPhotoIndex].classList.remove('show');

            // Êõ¥Êñ∞Á¥¢Âºï
            currentPhotoIndex = (currentPhotoIndex + 1) % birthdayPhotos.length;

            // ÊòæÁ§∫Êñ∞ÁÖßÁâá
            birthdayPhotos[currentPhotoIndex].classList.add('show');
        }

        // ÂºÄÂßãÁÖßÁâáËΩÆÊí≠
        function startPhotoCarousel() {
            // ÂÖàÊòæÁ§∫Á¨¨‰∏ÄÂº†
            birthdayPhotos[0].classList.add('show');

            // ÊØèÈöî3ÁßíÂàáÊç¢ÁÖßÁâá
            photoInterval = setInterval(showNextPhoto, 3000);
        }

        // Âä†ÈÄüÈü≥‰πêÊí≠Êîæ
        function speedUpMusic() {
            if (birthdayMusic.duration) {
                // ËÆ°ÁÆóÈúÄË¶ÅÁöÑÊí≠ÊîæÈÄüÂ∫¶Ôºå‰ΩøÈü≥‰πêÂú®1ÂàÜÈíüÂÜÖÂÆåÊàê
                const targetDuration = 30; // 60Áßí
                const speed = birthdayMusic.duration / targetDuration;
                birthdayMusic.playbackRate = speed;
                isMusicSpedUp = true;
                speedControl.textContent = '‚è≠Ô∏è';
            } else {
                // Â¶ÇÊûúÈü≥‰πêÂÖÉÊï∞ÊçÆËøòÊ≤°Âä†ËΩΩÔºåÁ®çÂêéÂÜçËØï
                setTimeout(speedUpMusic, 100);
            }
        }

        // ÂºÄÂßãÊåâÈíÆÁÇπÂáª‰∫ã‰ª∂
        startButton.addEventListener('click', () => {
            // ÈöêËóèÂºÄÂßãÊåâÈíÆ
            startButton.style.display = 'none';

            // Âä†ËΩΩÂπ∂ÂÆö‰ΩçÁÖßÁâá
            loadAndPositionPhotos();

            // Êí≠ÊîæÈü≥‰πêÂπ∂Âä†ÈÄü
            birthdayMusic.play().catch(e => console.log("Ëá™Âä®Êí≠ÊîæË¢´ÈòªÊ≠¢:", e));
            speedUpMusic();

            // ÊòæÁ§∫ÊñáÂ≠ó
            setTimeout(() => {
                birthdayText.classList.add('show');
            }, 1000);

            setTimeout(() => {
                birthdayMessage.classList.add('show');
                startPhotoCarousel();
            }, 1500);

            // ÂºÄÂßãÁÉüËä±ÊïàÊûú
            startFireworks();
        });

        // Èü≥‰πêÊéßÂà∂ÊåâÈíÆ
        let isMusicPlaying = true;
        musicControl.addEventListener('click', () => {
            if (isMusicPlaying) {
                birthdayMusic.pause();
                musicControl.textContent = 'üîá';
            } else {
                birthdayMusic.play();
                musicControl.textContent = 'üîä';
            }
            isMusicPlaying = !isMusicPlaying;
        });

        // ÁÉüËä±ÊéßÂà∂ÊåâÈíÆ
        fireworksControl.addEventListener('click', () => {
            fireworksEnabled = !fireworksEnabled;
            if (fireworksEnabled) {
                fireworksControl.style.opacity = '1';
            } else {
                fireworksControl.style.opacity = '0.5';
            }
        });

        // ÈÄüÂ∫¶ÊéßÂà∂ÊåâÈíÆ
        speedControl.addEventListener('click', () => {
            if (isMusicSpedUp) {
                birthdayMusic.playbackRate = 1.0;
                isMusicSpedUp = false;
                speedControl.textContent = '‚è©';
            } else {
                speedUpMusic();
            }
        });

        // ÁÉüËä±ÊïàÊûú
        class Particle {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.velocity = {
                    x: (Math.random() - 0.5) * 8,
                    y: (Math.random() - 0.5) * 8
                };
                this.alpha = 1;
                this.decay = Math.random() * 0.015 + 0.01;
                this.size = Math.random() * 3 + 1;
                this.type = Math.random() > 0.5 ? 'circle' :
                           Math.random() > 0.7 ? 'star' : 'heart';
                this.rotation = Math.random() * Math.PI * 2;
                this.rotationSpeed = (Math.random() - 0.5) * 0.05;
            }

            update() {
                this.velocity.y += 0.03; // ÈáçÂäõ
                this.x += this.velocity.x;
                this.y += this.velocity.y;
                this.alpha -= this.decay;
                this.rotation += this.rotationSpeed;
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.fillStyle = this.color;

                if (this.type === 'star') {
                    // ÁªòÂà∂ÊòüÊòü
                    ctx.beginPath();
                    const spikes = 5;
                    const outerRadius = this.size;
                    const innerRadius = this.size / 2;
                    let rot = this.rotation;
                    let x = this.x;
                    let y = this.y;
                    let step = Math.PI / spikes;

                    ctx.beginPath();
                    ctx.moveTo(this.x, this.y - outerRadius);
                    for (let i = 0; i < spikes; i++) {
                        x = this.x + Math.cos(rot) * outerRadius;
                        y = this.y + Math.sin(rot) * outerRadius;
                        ctx.lineTo(x, y);
                        rot += step;

                        x = this.x + Math.cos(rot) * innerRadius;
                        y = this.y + Math.sin(rot) * innerRadius;
                        ctx.lineTo(x, y);
                        rot += step;
                    }
                    ctx.lineTo(this.x, this.y - outerRadius);
                    ctx.closePath();
                    ctx.fill();
                } else if (this.type === 'heart') {
                    // ÁªòÂà∂Áà±ÂøÉ
                    ctx.beginPath();
                    const topCurveHeight = this.size * 0.3;
                    ctx.moveTo(this.x, this.y + topCurveHeight);
                    // Â∑¶‰æßÊõ≤Á∫ø
                    ctx.bezierCurveTo(
                        this.x, this.y,
                        this.x - this.size, this.y,
                        this.x - this.size, this.y + topCurveHeight
                    );
                    // Â∫ïÈÉ®Â∑¶‰æßÊõ≤Á∫ø
                    ctx.bezierCurveTo(
                        this.x - this.size, this.y + (this.size * 0.7),
                        this.x, this.y + (this.size * 1.3),
                        this.x, this.y + this.size
                    );
                    // Â∫ïÈÉ®Âè≥‰æßÊõ≤Á∫ø
                    ctx.bezierCurveTo(
                        this.x, this.y + (this.size * 1.3),
                        this.x + this.size, this.y + (this.size * 0.7),
                        this.x + this.size, this.y + topCurveHeight
                    );
                    // Âè≥‰æßÊõ≤Á∫ø
                    ctx.bezierCurveTo(
                        this.x + this.size, this.y,
                        this.x, this.y,
                        this.x, this.y + topCurveHeight
                    );
                    ctx.closePath();
                    ctx.fill();
                } else {
                    // ÁªòÂà∂ÂúÜÂΩ¢
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.closePath();
                    ctx.fill();
                }

                ctx.restore();
            }
        }

        class Firework {
            constructor(x, y, targetX, targetY, color, type = 'normal') {
                this.x = x;
                this.y = y;
                this.targetX = targetX;
                this.targetY = targetY;
                this.color = color;
                this.particles = [];
                this.speed = type === 'special' ? 5 : 3;
                this.angle = Math.atan2(targetY - y, targetX - x);
                this.velocity = {
                    x: Math.cos(this.angle) * this.speed,
                    y: Math.sin(this.angle) * this.speed
                };
                this.exploded = false;
                this.type = type;
                this.trail = [];
                this.maxTrail = 15;
            }

            update() {
                if (!this.exploded) {
                    this.x += this.velocity.x;
                    this.y += this.velocity.y;

                    // ËÆ∞ÂΩïËΩ®Ëøπ
                    this.trail.push({x: this.x, y: this.y});
                    if (this.trail.length > this.maxTrail) {
                        this.trail.shift();
                    }

                    // Ê£ÄÊü•ÊòØÂê¶Âà∞ËææÁõÆÊ†á‰ΩçÁΩÆ
                    const distance = Math.hypot(this.targetX - this.x, this.targetY - this.y);
                    if (distance < 5) {
                        this.explode();
                    }
                }

                // Êõ¥Êñ∞Á≤íÂ≠ê
                for (let i = this.particles.length - 1; i >= 0; i--) {
                    this.particles[i].update();
                    if (this.particles[i].alpha <= 0) {
                        this.particles.splice(i, 1);
                    }
                }
            }

            draw() {
                if (!this.exploded) {
                    // ÁªòÂà∂Â∞æËøπ
                    ctx.save();
                    ctx.lineWidth = this.type === 'special' ? 3 : 2;
                    ctx.strokeStyle = this.color;
                    ctx.globalAlpha = 0.7;
                    ctx.beginPath();
                    for (let i = 0; i < this.trail.length - 1; i++) {
                        const p1 = this.trail[i];
                        const p2 = this.trail[i+1];
                        ctx.moveTo(p1.x, p1.y);
                        ctx.lineTo(p2.x, p2.y);
                    }
                    ctx.stroke();
                    ctx.restore();

                    // ÁªòÂà∂ÁÉüËä±Â§¥
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.type === 'special' ? 5 : 3, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }

                // ÁªòÂà∂Á≤íÂ≠ê
                this.particles.forEach(particle => particle.draw());
            }

            explode() {
                this.exploded = true;
                // ÂàõÂª∫ÁàÜÁÇ∏Á≤íÂ≠ê
                const particleCount = this.type === 'special' ? 300 : 150;
                for (let i = 0; i < particleCount; i++) {
                    this.particles.push(new Particle(this.x, this.y, this.color));
                }

                // ÂàõÂª∫‰∫åÊ¨°ÁàÜÁÇ∏
                if (this.type === 'special') {
                    setTimeout(() => {
                        for (let i = 0; i < 6; i++) {
                            setTimeout(() => {
                                const angle = (i / 6) * Math.PI * 2;
                                const distance = Math.random() * 60 + 60;
                                const x = this.x + Math.cos(angle) * distance;
                                const y = this.y + Math.sin(angle) * distance;
                                createMiniExplosion(x, y, this.color);
                            }, i * 80);
                        }
                    }, 400);
                }
            }
        }

        // ÂàõÂª∫Ëø∑‰Ω†ÁàÜÁÇ∏ÊïàÊûú
        function createMiniExplosion(x, y, color) {
            const particles = [];
            for (let i = 0; i < 100; i++) {
                particles.push(new Particle(x, y, color));
            }

            function update() {
                ctx.save();

                for (let i = particles.length - 1; i >= 0; i--) {
                    const p = particles[i];
                    p.update();

                    if (p.alpha <= 0) {
                        particles.splice(i, 1);
                    } else {
                        p.draw();
                    }
                }

                ctx.restore();

                if (particles.length > 0) {
                    requestAnimationFrame(update);
                }
            }

            update();
        }

        const fireworks = [];

        function createFirework(x, y, type = 'normal') {
            if (!fireworksEnabled && type === 'normal') return;

            const startX = x || Math.random() * canvas.width;
            const startY = y || canvas.height;
            const targetX = x || Math.random() * canvas.width;
            const targetY = y || Math.random() * canvas.height / 2;

            const hue = Math.floor(Math.random() * 360);
            const saturation = 100;
            const lightness = type === 'special' ? 80 : 60;
            const color = `hsl(${hue}, ${saturation}%, ${lightness}%)`;

            fireworks.push(new Firework(startX, startY, targetX, targetY, color, type));
        }

        function startFireworks() {
            animate();

            // ÈöèÊú∫Ëá™Âä®ÂèëÂ∞ÑÁÉüËä±
            setInterval(() => {
                if (Math.random() < 0.6) {
                    createFirework();
                }
                // 30%Ê¶ÇÁéáÂèëÂ∞ÑÁâπÊÆäÁÉüËä±
                if (Math.random() < 0.6) {
                    createFirework(null, null, 'special');
                }
            }, 300);

            // ÁÇπÂáªÂèëÂ∞ÑÁÉüËä±
            canvas.addEventListener('click', (e) => {
                for (let i = 0; i < 6; i++) {
                    setTimeout(() => {
                        createFirework(e.clientX, e.clientY, i % 2 === 0 ? 'special' : 'normal');
                    }, i * 80);
                }
            });

            // Ëß¶Êë∏ÊîØÊåÅ
            canvas.addEventListener('touchstart', (e) => {
                e.preventDefault();
                const touch = e.touches[0];
                for (let i = 0; i < 6; i++) {
                    setTimeout(() => {
                        createFirework(touch.clientX, touch.clientY, i % 2 === 0 ? 'special' : 'normal');
                    }, i * 80);
                }
            }, { passive: false });
        }

        function animate() {
            requestAnimationFrame(animate);

            // ÂçäÈÄèÊòéÈªëËâ≤ËÉåÊôØÔºåÂàõÂª∫ÊãñÂ∞æÊïàÊûú
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Êõ¥Êñ∞ÂíåÁªòÂà∂ÁÉüËä±
            fireworks.forEach((firework, index) => {
                firework.update();
                firework.draw();

                // ÁßªÈô§Â∑≤ÁªèÊ∂àÂ§±ÁöÑÁÉüËä±
                if (firework.exploded && firework.particles.length === 0) {
                    fireworks.splice(index, 1);
                }
            });
        }

        // Áà±ÂøÉÊïàÊûú
        function createHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = `${x}px`;
            heart.style.top = `${y}px`;
            heart.style.fontSize = `${Math.random() * 16 + 8}px`;
            document.body.appendChild(heart);

            // Áà±ÂøÉÂä®Áîª
            let size = 1;
            let opacity = 1;
            const animation = setInterval(() => {
                size += 0.05;
                opacity -= 0.02;
                heart.style.transform = `translate(-50%, -50%) scale(${size})`;
                heart.style.opacity = opacity;

                if (opacity <= 0) {
                    clearInterval(animation);
                    heart.remove();
                }
            }, 50);
        }
    </script>
</body>
</html>
